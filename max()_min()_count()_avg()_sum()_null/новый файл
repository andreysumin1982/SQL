Теперь, когда мы научились разделять базу данных несколькими способами, давайте рассмотрим некоторые статистические функции, поддерживаемые SQL.

Чтобы сосчитать звезды, попробуйте:
SELECT COUNT() FROM stars
-----------------------------------------------------------
В реальных галактиках миллиарды звезд, но нам придется довольствоваться парой тысяч.

Другими обычно поддерживаемыми функциями являются MAX (возвращает максимальное значение), MIN (возвращает минимальное значение), AVG (вычисляет среднее значение) и SUM (вычисляет сумму значений). Например, чтобы найти максимальное значение x, вы можете попробовать:
SELECT MAX(x) FROM stars
----------------------------------------------------------
Параметром для функций может быть имя столбца или уравнение с именами столбцов. Например, чтобы рассчитать среднее расстояние от центра галактики, вы могли бы сделать:
SELECT AVG(x*x+y*y+z*z) FROM stars
-----------------------------------------------------------
(Ну, на самом деле это среднее значение квадрата расстояния, так как SQL не включает квадратный корень..)

Функция COUNT также принимает параметр. НУЛЕВЫЕ значения не учитываются. О, я еще не говорил о нулевых значениях, не так ли?

NULL - это специальное значение в SQL, которое означает, что значения нет. Это отличается от пустых строк или целых чисел с нулем. Нулевые значения могут естественным образом появляться в базах данных, и в некоторых случаях они также могут появляться в сложных запросах. Позже мы увидим многих из них.

НУЛЕВЫЕ значения также обрабатываются немного по-другому. Если вы хотите выбрать все строки, где какое-то значение не равно нулю, вы пишете foo НЕ РАВНО НУЛЮ. Кроме того, любая арифметическая операция с НУЛЕМ приводит к нулю; 2*7+НУЛЬ = НУЛЬ. Если вы хотите обработать НУЛЕВОЕ значение как что-то другое, возможно, 0, вы можете использовать функцию COALESCE, которая возвращает свой первый ненулевой аргумент. Например, 2*7+ОБЪЕДИНЕНИЕ (НОЛЬ,0)=14.
-----
Создайте запрос, в котором вы вычисляете сумму всех значений y, деленную на все значения x.
SELECT SUM((y+y) / (x+x)) FROM stars
-----------------------------------------------------------
